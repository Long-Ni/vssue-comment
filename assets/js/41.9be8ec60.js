(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{524:function(a,t,s){"use strict";s.r(t);var n=s(8),e=function(a){a.options.__data__block__={mermaid_64a567e6:'graph LR;\nA("ğŸ’°") --\x3eB("æ”¯ä»˜ç±»å·¥å…·") --\x3eC("é’±åŒ…ç±»å·¥å…·")\n'}},v=Object(n.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[a._v("åœ¨äº¤æ˜“è¿‡ç¨‹ä¸­ï¼ŒMoneyğŸ’°æ˜¯ç”¨æ¥æ”¯ä»˜çš„ã€‚ä¿¡ç”¨å¡ã€æ”¯ä»˜å®è¿™äº›å·¥å…·ä¹Ÿèƒ½ç”¨æ¥æ”¯ä»˜ï¼Œä½†æ˜¯ä¿¡ç”¨å¡ã€æ”¯ä»˜å®è¿™äº›å·¥å…·å®é™…ä¸Šè¿˜æ˜¯æ‹¿ä½ çš„ğŸ’°å»æ”¯ä»˜çš„ã€‚æ‰€ä»¥ï¼Œä¿¡ç”¨å¡ã€æ”¯ä»˜å®ç­‰å·¥å…·åªæ˜¯ä»£ç†äº†ä½ çš„ğŸ’° ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹äººä»¬ä¸ºä»€ä¹ˆä¸ç›´æ¥æ‹¿é’±å»äº¤æ˜“ï¼Œè€Œæ˜¯ç”¨è¿™ç±»ä»£ç†å·¥å…·å»äº¤æ˜“å‘¢ï¼Ÿåœ¨å®é™…ç”Ÿæ´»ä¸­ï¼Œå¦‚æœä½ ç”¨ç°é‡‘äº¤æ˜“ï¼Œé‚£ä¹ˆåœ¨äº¤æ˜“ä¹‹å‰ï¼Œä½ è¦æ£€æŸ¥è‡ªå·±æ‰‹å¤´çš„ç°é‡‘æ˜¯å¦è¶³é¢æ”¯ä»˜æ­¤æ¬¡äº¤æ˜“ï¼Œå¦‚ä¸å¤Ÿï¼Œä½ å¾—å…ˆå»é“¶è¡Œå–é’±ã€‚åœ¨äº¤æ˜“ä¹‹åï¼Œå¦‚æœå‰©ä½™çš„æ•°é¢è¾ƒå¤§ï¼Œè¿˜éœ€è¦å»é“¶è¡Œå°†è¿™éƒ¨åˆ†å­˜å…¥ä½ è‡ªå·±çš„è´¦æˆ·ç­‰ç­‰ã€‚è¿™å¾ˆç¹çã€‚ä½†æ˜¯å¦‚æœä½ ç”¨ä¿¡ç”¨å¡ã€æ”¯ä»˜å®è¿™ç±»ä»£ç†å·¥å…·å»åšäº¤æ˜“ï¼Œä»£ç†å·¥å…·å°±ä¼šå¸®ä½ åšå¥½äº¤æ˜“ä¹‹å‰å’Œä¹‹åè¦åšçš„äº‹ï¼Œè€Œä½ åªéœ€è¦ä¸“æ³¨äºäº¤æ˜“å³å¯ã€‚")]),a._v(" "),s("p",[a._v("åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†ğŸ’°ç§°ä¹‹ä¸º"),s("strong",[a._v("ç›®æ ‡å¯¹è±¡")]),a._v("ï¼Œä¿¡ç”¨å¡ã€æ”¯ä»˜å®è¿™ç±»çš„å·¥å…·ç§°ä¹‹ä¸º"),s("strong",[a._v("ä»£ç†å¯¹è±¡")]),a._v("ã€‚ï¼ˆè¿™å¾ˆé‡è¦ï¼ï¼ï¼ï¼‰")]),a._v(" "),s("p",[a._v("ç›®å½•ï¼š")]),a._v(" "),s("TOC",{attrs:{"include-level":[2,4]}}),a._v(" "),s("h3",{attrs:{id:"_1-ä»€ä¹ˆæ˜¯ä»£ç†æ¨¡å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä»€ä¹ˆæ˜¯ä»£ç†æ¨¡å¼"}},[a._v("#")]),a._v(" 1. ä»€ä¹ˆæ˜¯ä»£ç†æ¨¡å¼")]),a._v(" "),s("p",[s("strong",[a._v("ä»£ç†æ¨¡å¼")]),a._v("æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œ è®©ä½ èƒ½å¤Ÿæä¾›ç›®æ ‡å¯¹è±¡çš„æ›¿ä»£å“æˆ–å…¶å ä½ç¬¦ï¼ˆä»£ç†å¯¹è±¡ï¼‰ï¼Œä»¥æ§åˆ¶å¯¹ç›®æ ‡å¯¹è±¡çš„è®¿é—®ã€‚")]),a._v(" "),s("h3",{attrs:{id:"_2-ä¸ºä»€ä¹ˆéœ€è¦ä»£ç†æ¨¡å¼-ä»£ç†æ¨¡å¼è§£å†³äº†ä»€ä¹ˆé—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-ä¸ºä»€ä¹ˆéœ€è¦ä»£ç†æ¨¡å¼-ä»£ç†æ¨¡å¼è§£å†³äº†ä»€ä¹ˆé—®é¢˜"}},[a._v("#")]),a._v(" 2. ä¸ºä»€ä¹ˆéœ€è¦ä»£ç†æ¨¡å¼â€”â€”ä»£ç†æ¨¡å¼è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ")]),a._v(" "),s("p",[a._v("ä»£ç†æ§åˆ¶ç€å¯¹äºåŸå¯¹è±¡çš„è®¿é—®ï¼Œ å¹¶å…è®¸åœ¨å°†è¯·æ±‚æäº¤ç»™ç›®æ ‡å¯¹è±¡å‰åè¿›è¡Œä¸€äº›å¤„ç†ï¼ˆè¿™äº›å¤„ç†å¯ä»¥åœ¨ä»£ç†å¯¹è±¡ä¸­å®Œæˆï¼‰ã€‚")]),a._v(" "),s("p",[a._v("ç”±æ­¤ï¼Œå®ƒèƒ½è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š")]),a._v(" "),s("ol",[s("li",[a._v("è™šæ‹Ÿä»£ç†ï¼šé€šè¿‡ä¸€ä¸ªæ¶ˆè€—èµ„æºè¾ƒå°‘çš„å¯¹è±¡æ¥ä»£ç†ä¸€ä¸ªæ¶ˆè€—èµ„æºè¾ƒå¤šçš„å¯¹è±¡ï¼Œå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸ŠèŠ‚çœç³»ç»Ÿçš„è¿è¡Œå¼€é”€ã€‚\n"),s("ul",[s("li",[a._v("æ— éœ€åœ¨ç¨‹åºå¯åŠ¨æ—¶å°±åˆ›å»ºè¯¥å¯¹è±¡ï¼Œ å¯å°†å¯¹è±¡çš„åˆå§‹åŒ–å»¶è¿Ÿåˆ°çœŸæ­£æœ‰éœ€è¦çš„æ—¶å€™ã€‚ä¹Ÿç§°ä¸ºå»¶è¿Ÿåˆå§‹åŒ–ã€‚")])])]),a._v(" "),s("li",[a._v("è¿œç¨‹ä»£ç†ï¼šé€‚ç”¨äºç›®æ ‡å¯¹è±¡ä½äºè¿œç¨‹æœåŠ¡å™¨ä¸Šçš„æƒ…å½¢ã€‚\n"),s("ul",[s("li",[a._v("åœ¨è¿™ç§æƒ…å½¢ä¸­ï¼Œ ä»£ç†é€šè¿‡ç½‘ç»œä¼ é€’å®¢æˆ·ç«¯è¯·æ±‚ï¼Œ è´Ÿè´£å¤„ç†æ‰€æœ‰ä¸ç½‘ç»œç›¸å…³çš„å¤æ‚ç»†èŠ‚ã€‚ä¹Ÿç§°ä¸ºæœ¬åœ°æ‰§è¡Œè¿œç¨‹æœåŠ¡ã€‚")])])]),a._v(" "),s("li",[a._v("ä¿æŠ¤ä»£ç†ï¼šå¯ä»¥æ§åˆ¶å¯¹ä¸€ä¸ªå¯¹è±¡çš„è®¿é—®æƒé™ï¼Œä¸ºä¸åŒç”¨æˆ·æä¾›ä¸åŒçº§åˆ«çš„ä½¿ç”¨æƒé™ã€‚\n"),s("ul",[s("li",[a._v("ä»£ç†å¯ä»…åœ¨å®¢æˆ·ç«¯å‡­æ®æ»¡è¶³è¦æ±‚æ—¶å°†è¯·æ±‚ä¼ é€’ç»™æœåŠ¡å¯¹è±¡ã€‚ä¹Ÿç§°ä¸ºè®¿é—®æ§åˆ¶ã€‚")])])]),a._v(" "),s("li",[a._v("ç¼“å­˜ä»£ç†ï¼šä¸ºæŸä¸€ä¸ªæ“ä½œçš„ç»“æœæä¾›ä¸´æ—¶çš„ç¼“å­˜å­˜å‚¨ç©ºé—´ï¼Œä»¥ä¾¿åœ¨åç»­ä½¿ç”¨ä¸­èƒ½å¤Ÿå…±äº«è¿™äº›ç»“æœã€‚é€šè¿‡ç®¡ç†ç¼“å­˜ç”Ÿå‘½å‘¨æœŸï¼Œä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½ï¼Œç¼©çŸ­æ‰§è¡Œæ—¶é—´ã€‚\n"),s("ul",[s("li",[a._v("ä»£ç†å¯å¯¹é‡å¤è¯·æ±‚æ‰€éœ€çš„ç›¸åŒç»“æœè¿›è¡Œç¼“å­˜ï¼Œ è¿˜å¯ä½¿ç”¨è¯·æ±‚å‚æ•°ä½œä¸ºç´¢å¼•ç¼“å­˜çš„é”®å€¼ã€‚ä¹Ÿç§°ä¸ºç¼“å­˜è¯·æ±‚ç»“æœã€‚")])])]),a._v(" "),s("li",[a._v("æ™ºèƒ½å¼•ç”¨ï¼šå¯åœ¨æ²¡æœ‰å®¢æˆ·ç«¯ä½¿ç”¨æŸä¸ªé‡é‡çº§å¯¹è±¡æ—¶ç«‹å³é”€æ¯è¯¥å¯¹è±¡ã€‚\n"),s("ul",[s("li",[a._v("ç†ä¼šå°†æ‰€æœ‰è·å–äº†æŒ‡å‘æœåŠ¡å¯¹è±¡æˆ–å…¶ç»“æœçš„å®¢æˆ·ç«¯è®°å½•åœ¨æ¡ˆã€‚ ä»£ç†ä¼šæ—¶ä¸æ—¶åœ°éå†å„ä¸ªå®¢æˆ·ç«¯ï¼Œ æ£€æŸ¥å®ƒä»¬æ˜¯å¦ä»åœ¨è¿è¡Œã€‚ å¦‚æœç›¸åº”çš„å®¢æˆ·ç«¯åˆ—è¡¨ä¸ºç©ºï¼Œ ä»£ç†å°±ä¼šé”€æ¯è¯¥æœåŠ¡å¯¹è±¡ï¼Œ é‡Šæ”¾åº•å±‚ç³»ç»Ÿèµ„æºã€‚")])])])]),a._v(" "),s("h3",{attrs:{id:"_3-é™æ€ä»£ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-é™æ€ä»£ç†"}},[a._v("#")]),a._v(" 3. é™æ€ä»£ç†")]),a._v(" "),s("p",[a._v("ç›®æ ‡å¯¹è±¡çš„ä»£ç†å¯¹è±¡åœ¨ç¨‹åºè¿è¡Œå‰å°±å·²ç»ç¡®å®šã€‚æ˜ å°„åˆ°ç¼–ç¨‹é¢†åŸŸï¼Œå°±æ˜¯æŒ‡ä»£ç†å¯¹è±¡çš„ "),s("code",[a._v(".class")]),a._v(" æ–‡ä»¶åœ¨ç¼–è¯‘æ—¶å°±å·²ç»äº§ç”Ÿäº†ã€‚")]),a._v(" "),s("h3",{attrs:{id:"_4-åŠ¨æ€ä»£ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-åŠ¨æ€ä»£ç†"}},[a._v("#")]),a._v(" 4. åŠ¨æ€ä»£ç†")]),a._v(" "),s("p",[a._v("ç›®æ ‡å¯¹è±¡çš„ä»£ç†å¯¹è±¡åœ¨ç¨‹åºè¿è¡Œæ—¶æ‰èƒ½ç¡®å®šã€‚")]),a._v(" "),s("p",[a._v("æ ¹æ®ç”Ÿæˆä»£ç†å¯¹è±¡çš„æ–¹å¼ä¸åŒï¼Œæœ‰ä¸¤ç§åŠ¨æ€ä»£ç†çš„å®ç°æ–¹å¼ã€‚å…·ä½“æ¥è¯´ï¼Œ")]),a._v(" "),s("ul",[s("li",[a._v("JDK åŠ¨æ€ä»£ç†ï¼šåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œé€šè¿‡åå°„ç”Ÿæˆä»£ç†å¯¹è±¡ã€‚")]),a._v(" "),s("li",[a._v("CGLib åŠ¨æ€ä»£ç†ï¼šåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œé€šè¿‡æ“ä½œå­—èŠ‚ç ç”Ÿæˆä»£ç†å¯¹è±¡ã€‚")])]),a._v(" "),s("h4",{attrs:{id:"_4-1-jdk-åŠ¨æ€ä»£ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-jdk-åŠ¨æ€ä»£ç†"}},[a._v("#")]),a._v(" 4.1 JDK åŠ¨æ€ä»£ç†")]),a._v(" "),s("p",[a._v("åœ¨ JDK åŠ¨æ€ä»£ç†æœºåˆ¶ä¸­ï¼Œæœ‰ä¸¤ä¸ªé‡è¦çš„ç±»æˆ–æ¥å£ï¼Œä¸€ä¸ªæ˜¯ "),s("code",[a._v("InvocationHandler")]),a._v(" æ¥å£ã€å¦ä¸€ä¸ªåˆ™æ˜¯ "),s("code",[a._v("Proxy")]),a._v(" ç±»ï¼Œè¿™ä¸ªç±»å’Œæ¥å£æ˜¯å®ç°åŠ¨æ€ä»£ç†æ‰€å¿…é¡»ç”¨åˆ°çš„ã€‚")]),a._v(" "),s("p",[s("strong",[a._v("InvocationHandler æ¥å£")])]),a._v(" "),s("p",[a._v("æ¯ä¸ªä»£ç†å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªä¸ä¹‹å…³è”çš„ "),s("code",[a._v("InvocationHandler")]),a._v(" çš„å®ç°ã€‚å¦‚æœä»£ç†å¯¹è±¡çš„æ–¹æ³•è¢«è°ƒç”¨ï¼Œé‚£ä¹ˆä»£ç†å¯¹è±¡ä¾¿ä¼šé€šçŸ¥å’Œè½¬å‘ç»™å†…éƒ¨çš„ "),s("code",[a._v("InvocationHandler")]),a._v(" å®ç°ç±»ï¼Œç”±å®ƒå¤„ç†å’Œè¿”å›ç»“æœã€‚")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("interface")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("InvocationHandler")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Object")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("invoke")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Object")]),a._v(" proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Method")]),a._v(" method"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Object")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("throws")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Throwable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("p",[s("code",[a._v("InvocationHandler")]),a._v(" å†…éƒ¨åªæœ‰ä¸€ä¸ª "),s("code",[a._v("invoke()")]),a._v(" æ–¹æ³•ï¼Œæ­£æ˜¯è¿™ä¸ªæ–¹æ³•å†³å®šäº†æ€ä¹ˆæ ·å¤„ç†ä»£ç†å¯¹è±¡ä¼ é€’è¿‡æ¥çš„æ–¹æ³•è°ƒç”¨ã€‚")]),a._v(" "),s("p",[s("code",[a._v("invoke()")]),a._v(" å‚æ•°çš„æ„ä¹‰ï¼š")]),a._v(" "),s("ul",[s("li",[a._v("proxyï¼šä»£ç†å¯¹è±¡")]),a._v(" "),s("li",[a._v("methodï¼šä»£ç†å¯¹è±¡è°ƒç”¨çš„æ–¹æ³•")]),a._v(" "),s("li",[a._v("argsï¼šä»£ç†å¯¹è±¡è°ƒç”¨çš„æ–¹æ³•ä¸­çš„å‚æ•°")])]),a._v(" "),s("p",[s("strong",[a._v("Proxy ç±»")])]),a._v(" "),s("p",[a._v("JDK åŠ¨æ€ä»£ç†æ­£æ˜¯é€šè¿‡ "),s("code",[a._v("Proxy")]),a._v(" ç±»çš„é™æ€æ–¹æ³• "),s("code",[a._v("newProxyInstance()")]),a._v(" åˆ›å»ºäº†ä»£ç†å¯¹è±¡ã€‚")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Proxy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("newProxyInstance")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ClassLoader")]),a._v(" loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Class")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" interfaces"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("InvocationHandler")]),a._v(" h"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("p",[s("code",[a._v("newProxyInstance()")]),a._v(" å‚æ•°çš„æ„ä¹‰ï¼š")]),a._v(" "),s("ul",[s("li",[a._v("loaderï¼šç›®æ ‡å¯¹è±¡çš„ç±»åŠ è½½å™¨ï¼Œä¸ºäº†å»å®šä¹‰ä»£ç†ç±»")]),a._v(" "),s("li",[a._v("interfacesï¼šç›®æ ‡å¯¹è±¡çš„æ¥å£æ¸…å•ï¼Œä¸ºäº†è®©ä»£ç†ç±»å»å®ç°")]),a._v(" "),s("li",[a._v("hï¼šä¸€ä¸ª InvocationHandler å¯¹è±¡ï¼Œä¸ºäº†åˆ†æ´¾æ–¹æ³•è°ƒç”¨")])]),a._v(" "),s("h4",{attrs:{id:"_4-2-cglib-åŠ¨æ€ä»£ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-cglib-åŠ¨æ€ä»£ç†"}},[a._v("#")]),a._v(" 4.2 CGLib åŠ¨æ€ä»£ç†")]),a._v(" "),s("p",[a._v("ç”±äºJDKåªèƒ½é’ˆå¯¹å®ç°äº†æ¥å£çš„ç±»åšåŠ¨æ€ä»£ç†ï¼Œè€Œä¸èƒ½å¯¹æ²¡æœ‰å®ç°æ¥å£çš„ç±»åšåŠ¨æ€ä»£ç†ï¼Œæ‰€ä»¥ CGLib æ¨ªç©ºå‡ºä¸–ï¼")]),a._v(" "),s("blockquote",[s("p",[a._v("JDK åŠ¨æ€ä»£ç†å¼ºåˆ¶è¦æ±‚ç›®æ ‡ç±»ï¼ˆç›®æ ‡å¯¹è±¡ï¼‰å¿…é¡»æœ€å°‘å®ç°ä¸€ä¸ªæ¥å£ï¼Œä½†æ˜¯ CGLib ä¸è¦æ±‚ç›®æ ‡ç±»ï¼ˆç›®æ ‡å¯¹è±¡ï¼‰å®ç°ä»»ä½•æ¥å£ã€‚")]),a._v(" "),s("p",[a._v("CGLib åŠ¨æ€ç”Ÿæˆçš„ä»£ç†ç±»ï¼ˆä»£ç†å¯¹è±¡ï¼‰ä¼šç»§æ‰¿æˆ‘ä»¬çš„ç›®æ ‡ç±»ï¼Œå¹¶åœ¨ä»£ç†ç±»ä¸­å¯¹ä»£ç†æ–¹æ³•è¿›è¡Œå¼ºåŒ–å¤„ç†ï¼ˆå‰ç½®å¤„ç†ã€åç½®å¤„ç†ç­‰ï¼‰ã€‚")])]),a._v(" "),s("p",[a._v("CGLibï¼ˆCode Generation Libraryï¼‰æ˜¯ä¸€ä¸ªå¼ºå¤§ã€é«˜æ€§èƒ½çš„ Code ç”Ÿæˆç±»åº“ï¼Œå®ƒå¯ä»¥åœ¨ç¨‹åºè¿è¡ŒæœŸé—´åŠ¨æ€æ‰©å±•ç±»æˆ–æ¥å£ï¼Œå®ƒçš„åº•å±‚æ˜¯ä½¿ç”¨ java å­—èŠ‚ç æ“ä½œæ¡†æ¶ ASM å®ç°ã€‚")]),a._v(" "),s("blockquote",[s("p",[a._v("ASMï¼šä¸€ä¸ª Java å­—èŠ‚ç æ“ä½œæ¡†æ¶ã€‚å®ƒèƒ½è¢«ç”¨æ¥åŠ¨æ€ç”Ÿæˆç±»æˆ–è€…å¢å¼ºæ—¢æœ‰ç±»çš„åŠŸèƒ½ã€‚ASM å¯ä»¥ç›´æ¥äº§ç”ŸäºŒè¿›åˆ¶ class æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åœ¨ç±»è¢«åŠ è½½å…¥ JVM ä¹‹å‰åŠ¨æ€æ”¹å˜ç±»è¡Œä¸ºã€‚Java class è¢«å­˜å‚¨åœ¨ä¸¥æ ¼æ ¼å¼å®šä¹‰çš„ "),s("code",[a._v(".class")]),a._v(" æ–‡ä»¶é‡Œï¼Œè¿™äº›ç±»æ–‡ä»¶æ‹¥æœ‰è¶³å¤Ÿçš„å…ƒæ•°æ®æ¥è§£æç±»ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼šç±»åç§°ã€æ–¹æ³•ã€å±æ€§ä»¥åŠ Java å­—èŠ‚ç ï¼ˆæŒ‡ä»¤ï¼‰ã€‚ASM ä»ç±»æ–‡ä»¶ä¸­è¯»å…¥ä¿¡æ¯åï¼Œèƒ½å¤Ÿæ”¹å˜ç±»è¡Œä¸ºï¼Œåˆ†æç±»ä¿¡æ¯ï¼Œç”šè‡³èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·è¦æ±‚ç”Ÿæˆæ–°çš„ç±»ã€‚")])]),a._v(" "),s("p",[a._v("åœ¨ CGlib åŠ¨æ€ä»£ç†æœºåˆ¶ä¸­ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå®šä¸€ä¸ªæ‹¦æˆªå™¨å®ç°æ¥å£ "),s("code",[a._v("MethodInterceptor")]),a._v("ï¼ˆ "),s("code",[a._v("cglib-nodep")]),a._v(" åº“æä¾›ï¼‰ã€‚")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("interface")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MethodInterceptor")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("extends")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Callback")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Object")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("intercept")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Object")]),a._v(" o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Method")]),a._v(" method"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Object")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MethodProxy")]),a._v(" methodProxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("throws")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Throwable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("p",[s("code",[a._v("MethodInterceptor")]),a._v(" å†…éƒ¨åªæœ‰ä¸€ä¸ª "),s("code",[a._v("intercept()")]),a._v(" æ–¹æ³•ï¼Œæ­£æ˜¯è¿™ä¸ªæ–¹æ³•å†³å®šäº†æ€ä¹ˆæ ·å¤„ç†ä»£ç†å¯¹è±¡ä¼ é€’è¿‡æ¥çš„æ–¹æ³•è°ƒç”¨ã€‚")]),a._v(" "),s("p",[s("code",[a._v("intercept()")]),a._v(" å‚æ•°çš„æ„ä¹‰ï¼š")]),a._v(" "),s("ul",[s("li",[a._v("oï¼šCGLib ç”Ÿæˆçš„ä»£ç†å¯¹è±¡")]),a._v(" "),s("li",[a._v("methodï¼šç›®æ ‡å¯¹è±¡è°ƒç”¨çš„æ–¹æ³•")]),a._v(" "),s("li",[a._v("argsï¼šä»£ç†å¯¹è±¡è°ƒç”¨çš„æ–¹æ³•ä¸­çš„å‚æ•°")]),a._v(" "),s("li",[a._v("methodProxyï¼šä»£ç†å¯¹è±¡è°ƒç”¨çš„æ–¹æ³•")])]),a._v(" "),s("p",[a._v("è€Œä»£ç†å¯¹è±¡åˆ™æ˜¯ç”± "),s("code",[a._v("Enhancer")]),a._v(" ç±»åˆ›å»ºçš„ã€‚"),s("code",[a._v("Enhancer")]),a._v(" æ˜¯ CGLib çš„å­—èŠ‚ç å¢å¼ºå™¨ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„å¯¹ç±»è¿›è¡Œæ‹“å±•ã€‚")]),a._v(" "),s("ol",[s("li",[a._v("åˆ›å»º enhancer å¯¹è±¡ã€‚")]),a._v(" "),s("li",[a._v("åˆ©ç”¨ enhancer å¯¹è±¡ï¼Œè®¾ç½®ä»£ç†ç±»ï¼ˆä»£ç†å¯¹è±¡ï¼‰çš„çˆ¶ç±»ï¼Œå³ç›®æ ‡ç±»ã€‚ç”±äºç›®æ ‡ç±»ä¼šè¢«å½“ä½œçˆ¶ç±»ï¼Œæ‰€ä»¥ç›®æ ‡ç±»ä¸èƒ½ç”¨ final ä¿®é¥°ï¼Œå¦åˆ™æŠ¥é”™ã€‚åŒç†ï¼Œç›®æ ‡ç±»ä¸­ final ä¿®é¥°çš„æ–¹æ³•ä¹Ÿä¸ä¼šè¢«ä»£ç†ã€‚")]),a._v(" "),s("li",[a._v("åˆ©ç”¨ enhancer å¯¹è±¡ï¼Œè®¾ç½®å›è°ƒå‡½æ•°ã€‚åŠ¨æ€ä»£ç†å¯¹è±¡æ ¹æ®ç›®æ ‡å¯¹è±¡çš„æ¯ä¸€ä¸ªæ–¹æ³•éƒ½ç”Ÿæˆäº†ä¸¤ä¸ªæ–¹æ³•ã€‚ç¬¬ä¸€ä¸ªä»£ç†æ–¹æ³•ç›´æ¥è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯ç›®æ ‡ç±»çš„æ–¹æ³•ã€‚ç¬¬äºŒä¸ªæ–¹æ³•ä¹Ÿå°±æ˜¯ä»£ç†å¯¹è±¡çœŸæ­£è°ƒç”¨çš„æ–¹æ³•ï¼Œå®ƒæ˜¯ç»è¿‡å°è£…çš„ï¼Œå®ƒä¼šå»åˆ¤æ–­ä»£ç†å¯¹è±¡æ˜¯å¦å®ç°äº† "),s("code",[a._v("MethodInterceptor")]),a._v(" çš„ "),s("code",[a._v("intercpt()")]),a._v("æ–¹æ³•ï¼Œå¦‚æœå®ç°äº†åˆ™ä¼šè°ƒç”¨ "),s("code",[a._v("intercept()")]),a._v(" æ–¹æ³•ã€‚")]),a._v(" "),s("li",[a._v("åˆ©ç”¨ enhancer å¯¹è±¡ï¼Œåˆ›å»ºä»£ç†å¯¹è±¡ã€‚")])]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Enhancer")]),a._v(" enhancer "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Enhancer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// è®¾ç½®ä»£ç†ç±»ï¼ˆä»£ç†å¯¹è±¡ï¼‰çš„çˆ¶ç±»ï¼Œå³ç›®æ ‡å¯¹è±¡")]),a._v("\nenhancer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setSuperclass")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("ç›®æ ‡å¯¹è±¡"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getClass")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// è®¾ç½®å›è°ƒå¯¹è±¡ï¼Œå³æ‹¦æˆªå™¨")]),a._v("\nenhancer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setCallback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("å®ç°äº† "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MethodInterceptor")]),a._v(" æ¥å£çš„æ‹¦æˆªå™¨å¯¹è±¡"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// åŠ¨æ€ç”Ÿæˆä»£ç†å¯¹è±¡")]),a._v("\nenhancer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("create")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h4",{attrs:{id:"_4-3-å¤šçº§åŠ¨æ€ä»£ç†-jdk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-å¤šçº§åŠ¨æ€ä»£ç†-jdk"}},[a._v("#")]),a._v(" 4.3 å¤šçº§åŠ¨æ€ä»£ç†ï¼ˆJDKï¼‰")]),a._v(" "),s("p",[a._v("ç»§ç»­å¼€ç¯‡çš„ä¾‹å­ï¼Œæ¥è§£é‡Šå¤šçº§ä»£ç†ã€‚")]),a._v(" "),s("p",[a._v("ğŸ’°åšä¸ºæˆ‘ä»¬çš„ç»ˆæäº¤æ˜“ä»‹è´¨ã€‚è€Œæ”¯ä»˜ç±»å·¥å…·ï¼ˆä¿¡ç”¨å¡ã€æ”¯ä»˜å®ç­‰ç­‰ï¼‰ä»£ç†äº†ğŸ’°ï¼Œæ–¹ä¾¿æˆ‘ä»¬å»æ”¯ä»˜ã€‚ä½†æ˜¯ï¼Œç°åœ¨å‡ºç°ä¸€ä¸ªé—®é¢˜ï¼šå¸‚é¢ä¸Šå‡ºç°äº†å¾ˆå¤šæ”¯ä»˜ç±»å·¥å…·ï¼Œæ¯”å¦‚å‚¨è“„å¡ã€ä¿¡ç”¨å¡ã€æ”¯ä»˜å®ã€å¾®ä¿¡æ”¯ä»˜ç­‰ç­‰ï¼Œå½“æ”¯ä»˜çš„æ—¶å€™ä½ ä¸å¾—ä¸å»æ€è€ƒåˆ°åº•ä½¿ç”¨å“ªç§å·¥å…·å»æ”¯ä»˜ï¼Œè¿›è€Œåœ¨æ‰‹æœºä¸­æ‰¾åˆ°å¯¹åº”çš„ app ç„¶åæ‰“å¼€æ”¯ä»˜ç è¿›è¡Œæ”¯ä»˜ã€‚è¿™çœŸæ˜¯ä¸€ä¸ªç¹ççš„è¿‡ç¨‹ã€‚å¹¸å¥½ï¼Œè¿™ä¹Ÿæœ‰è§£å†³çš„åŠæ³•ã€‚é‚£å°±æ˜¯ iphone è‡ªå¸¦çš„ app ï¼šWalletã€‚Wallet é›†æˆäº†æ‰€æœ‰çš„æ”¯ä»˜æ–¹å¼ï¼Œå®ƒå¯ä»¥æ·»åŠ å‚¨è“„å¡ã€ä¿¡ç”¨å¡ã€æ”¯ä»˜å®æ”¯ä»˜ç ã€å¾®ä¿¡æ”¯ä»˜ç ç­‰ç­‰ï¼Œå½“ä½ éœ€è¦æ”¯ä»˜çš„æ—¶å€™ï¼Œåªéœ€è¦æ‰“å¼€ Wallet å°±å¤Ÿäº†ã€‚æˆ‘ä»¬çœ‹ä¸€ä¸‹è¿™ä¸ªæµç¨‹ï¼š")]),a._v(" "),s("Mermaid",{attrs:{id:"mermaid_64a567e6",graph:a.$dataBlock.mermaid_64a567e6}}),s("ul",[s("li",[a._v("ğŸ’°åšä¸ºæºç›®æ ‡ã€‚")]),a._v(" "),s("li",[a._v("æ”¯ä»˜ç±»å·¥å…·ä¸ºä¸€çº§ä»£ç†ã€‚ä»£ç†äº†æºç›®æ ‡ã€‚ç›®æ ‡å¯¹è±¡ä¸ºğŸ’°ã€‚")]),a._v(" "),s("li",[a._v("é’±åŒ…ç±»å·¥å…·ä¸ºäºŒçº§ä»£ç†ã€‚ä»£ç†äº†ä¸€çº§ä»£ç†å¯¹è±¡ã€‚ç›®æ ‡å¯¹è±¡ä¸ºä¸€çº§ä»£ç†å¯¹è±¡ã€‚")]),a._v(" "),s("li",[a._v("åŒæ ·çš„æ–¹å¼å¯ä»¥å®ç°ä¸‰çº§ã€å››çº§ã€nçº§ä»£ç†ã€‚")])])],1)}),[],!1,null,null,null);"function"==typeof e&&e(v);t.default=v.exports}}]);