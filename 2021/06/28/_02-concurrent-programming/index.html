<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>并发编程中的一些基础概念 | Ni&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="$page.excerpt">
    
    <link rel="preload" href="/vssue-comment/assets/css/0.styles.02c2761a.css" as="style"><link rel="preload" href="/vssue-comment/assets/js/app.9fa4f4bb.js" as="script"><link rel="preload" href="/vssue-comment/assets/js/13.044f1fde.js" as="script"><link rel="preload" href="/vssue-comment/assets/js/3.f0de84e7.js" as="script"><link rel="preload" href="/vssue-comment/assets/js/10.23cc3d6b.js" as="script"><link rel="prefetch" href="/vssue-comment/assets/js/11.c63e2dcc.js"><link rel="prefetch" href="/vssue-comment/assets/js/12.d7671ee7.js"><link rel="prefetch" href="/vssue-comment/assets/js/14.399fc32e.js"><link rel="prefetch" href="/vssue-comment/assets/js/15.37bef016.js"><link rel="prefetch" href="/vssue-comment/assets/js/16.2ae3cc61.js"><link rel="prefetch" href="/vssue-comment/assets/js/17.10c0352f.js"><link rel="prefetch" href="/vssue-comment/assets/js/18.02aac107.js"><link rel="prefetch" href="/vssue-comment/assets/js/19.ac0b8b1d.js"><link rel="prefetch" href="/vssue-comment/assets/js/20.656ccc17.js"><link rel="prefetch" href="/vssue-comment/assets/js/21.d1f01d1a.js"><link rel="prefetch" href="/vssue-comment/assets/js/22.6e251d71.js"><link rel="prefetch" href="/vssue-comment/assets/js/23.caaa7b12.js"><link rel="prefetch" href="/vssue-comment/assets/js/24.33d428f1.js"><link rel="prefetch" href="/vssue-comment/assets/js/25.207f6b5f.js"><link rel="prefetch" href="/vssue-comment/assets/js/26.398d8fee.js"><link rel="prefetch" href="/vssue-comment/assets/js/27.d4ae83e5.js"><link rel="prefetch" href="/vssue-comment/assets/js/28.66c58624.js"><link rel="prefetch" href="/vssue-comment/assets/js/29.a6686645.js"><link rel="prefetch" href="/vssue-comment/assets/js/30.242e18b7.js"><link rel="prefetch" href="/vssue-comment/assets/js/31.7da4eecc.js"><link rel="prefetch" href="/vssue-comment/assets/js/32.9b8f3ea0.js"><link rel="prefetch" href="/vssue-comment/assets/js/33.075dbe36.js"><link rel="prefetch" href="/vssue-comment/assets/js/34.838ce186.js"><link rel="prefetch" href="/vssue-comment/assets/js/35.3bbd155f.js"><link rel="prefetch" href="/vssue-comment/assets/js/36.a07ab564.js"><link rel="prefetch" href="/vssue-comment/assets/js/37.50ef72a3.js"><link rel="prefetch" href="/vssue-comment/assets/js/38.75b498ed.js"><link rel="prefetch" href="/vssue-comment/assets/js/39.3b1e3afb.js"><link rel="prefetch" href="/vssue-comment/assets/js/4.79c2a3ee.js"><link rel="prefetch" href="/vssue-comment/assets/js/40.0a6fdf1b.js"><link rel="prefetch" href="/vssue-comment/assets/js/41.9be8ec60.js"><link rel="prefetch" href="/vssue-comment/assets/js/42.9ce4d2b3.js"><link rel="prefetch" href="/vssue-comment/assets/js/43.c76f9c55.js"><link rel="prefetch" href="/vssue-comment/assets/js/44.4749cc3b.js"><link rel="prefetch" href="/vssue-comment/assets/js/45.605778e4.js"><link rel="prefetch" href="/vssue-comment/assets/js/46.fd2913a3.js"><link rel="prefetch" href="/vssue-comment/assets/js/47.5b787534.js"><link rel="prefetch" href="/vssue-comment/assets/js/48.7cf6064e.js"><link rel="prefetch" href="/vssue-comment/assets/js/49.ffa11e3d.js"><link rel="prefetch" href="/vssue-comment/assets/js/5.6a98c4eb.js"><link rel="prefetch" href="/vssue-comment/assets/js/50.69284de8.js"><link rel="prefetch" href="/vssue-comment/assets/js/6.0cbbe057.js"><link rel="prefetch" href="/vssue-comment/assets/js/7.feaf1269.js"><link rel="prefetch" href="/vssue-comment/assets/js/8.9c40e8a4.js"><link rel="prefetch" href="/vssue-comment/assets/js/9.b2c8bfda.js"><link rel="prefetch" href="/vssue-comment/assets/js/vuejs-paginate.8412c6fc.js">
    <link rel="stylesheet" href="/vssue-comment/assets/css/0.styles.02c2761a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/vssue-comment/" class="nav-link home-link">Ni's Blog </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/vssue-comment/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/vssue-comment/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/vssue-comment/" class="nav-link mobile-home-link">Ni's Blog </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/vssue-comment/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/vssue-comment/tag/" class="nav-link">Tags</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        并发编程中的一些基础概念
      </h1> <div class="post-meta"><div itemprop="publisher author" itemtype="http://schema.org/Person" itemscope="itemscope" class="post-meta-author"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-navigation"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg> <span itemprop="name">Ni</span> <span itemprop="address">   in 大连</span></div> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2021-06-28 11:00:00+0800">
      Mon Jun 28 2021
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-42ccfcd5><a href="/vssue-comment/tag/Java" data-v-42ccfcd5><span data-v-42ccfcd5>Java</span></a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><p>一些基础概念解析与区别</p> <ul><li>进程、线程、多进程、多线程</li> <li>并发、并行</li> <li>同步与异步、阻塞与非阻塞</li> <li>临界资源与临界区</li></ul> <p>目录：</p> <div><ul><li><a href="/vssue-comment/2021/06/28/_02-concurrent-programming/#进程-process">进程（Process）</a></li><li><a href="/vssue-comment/2021/06/28/_02-concurrent-programming/#线程-thread">线程（Thread）</a></li><li><a href="/vssue-comment/2021/06/28/_02-concurrent-programming/#多进程-multi-process">多进程（Multi-process）</a></li><li><a href="/vssue-comment/2021/06/28/_02-concurrent-programming/#多线程-multi-thread">多线程（Multi-thread）</a></li><li><a href="/vssue-comment/2021/06/28/_02-concurrent-programming/#并发-concurrent">并发（Concurrent）</a></li><li><a href="/vssue-comment/2021/06/28/_02-concurrent-programming/#并行-parallel">并行（Parallel）</a></li><li><a href="/vssue-comment/2021/06/28/_02-concurrent-programming/#并行并发-parallel-concurrent">并行并发（Parallel Concurrent ）</a></li><li><a href="/vssue-comment/2021/06/28/_02-concurrent-programming/#同步与异步、阻塞和非阻塞">同步与异步、阻塞和非阻塞</a><ul><li><a href="/vssue-comment/2021/06/28/_02-concurrent-programming/#同步-sync-与异步-async">同步（Sync）与异步（Async）</a></li><li><a href="/vssue-comment/2021/06/28/_02-concurrent-programming/#阻塞-bolck-与非阻塞-unblock">阻塞（Bolck）与非阻塞（Unblock）</a></li><li><a href="/vssue-comment/2021/06/28/_02-concurrent-programming/#四种组合关系">四种组合关系</a></li></ul></li><li><a href="/vssue-comment/2021/06/28/_02-concurrent-programming/#临界资源与临界区">临界资源与临界区</a></li></ul></div> <h2 id="进程-process"><a href="#进程-process" class="header-anchor">#</a> 进程（Process）</h2> <p>对于操作系统来说，一个任务就是一个进程（Process），比如打开一个浏览器就是启动一个浏览器进程，打开一个记事本就启动了一个记事本进程，打开两个记事本就启动了两个记事本进程，打开一个Word就启动了一个Word进程。</p> <blockquote><p>进程是操作系统资源分配的基本单位。</p></blockquote> <h2 id="线程-thread"><a href="#线程-thread" class="header-anchor">#</a> 线程（Thread）</h2> <p>有些进程还不止同时干一件事，比如Word，它可以同时进行打字、拼写检查、打印等事情。在一个进程内部，要同时干多件事，就需要同时运行多个“子任务”，我们把进程内的这些“子任务”称为线程（Thread）</p> <blockquote><p>线程是 CPU 进行任务调度的基本单位。（真正在 CPU 上运行的是线程）</p></blockquote> <p>由于每个进程至少要干一件事，所以，一个进程至少有一个线程。</p> <p><img src="/vssue-comment/assets/img/process_thread.d45c8fc9.png" alt=""></p> <h2 id="多进程-multi-process"><a href="#多进程-multi-process" class="header-anchor">#</a> 多进程（Multi-process）</h2> <p>在同一个计算机系统中，同一时刻如果允许两个或者两个以上的进程处于运行状态，就叫做多进程（多任务）。</p> <blockquote><ol><li>现代操作系统基本都是多任务的。</li> <li>多进程对系统的资源要求较高，资源浪费比较严重。</li> <li>多进程比较稳定。因为线程的奔溃会导致进程的奔溃，而一个进程奔溃不会影响另一个进程。</li></ol></blockquote> <h2 id="多线程-multi-thread"><a href="#多线程-multi-thread" class="header-anchor">#</a> 多线程（Multi-thread）</h2> <p>利用多个线程的概念来编程就叫做多线程编程。</p> <blockquote><ol><li>多线程通过同步完成多项任务，提高了资源的利用效率。（多线程编程的唯一目的）</li> <li>它是通过提高 CPU 资源使用效率来提高整个系统的效率，而不一定提高程序运行速度。</li> <li>多个线程“同时”执行各自的任务。同时并非同一时刻，而是在某个时间段内完成多个任务，任务的执行有先后顺序。</li></ol></blockquote> <h2 id="并发-concurrent"><a href="#并发-concurrent" class="header-anchor">#</a> 并发（Concurrent）</h2> <p>在单个 CPU 上，多个任务（线程）之间要竞争这个 CPU 资源才能得到执行机会。</p> <blockquote><ol><li>为了同时处理在多个任务，执行期间 CPU 会在多个任务之间切换。</li> <li>所以多个任务是在同时（宏观）执行的，但不是同一时刻（微观）。</li></ol></blockquote> <p><img src="/vssue-comment/assets/img/concurrency.80d6d655.png" alt=""></p> <h2 id="并行-parallel"><a href="#并行-parallel" class="header-anchor">#</a> 并行（Parallel）</h2> <p>在多个 CPU （或者多核 CPU）上，多个任务不需要竞争就能得到执行机会。</p> <blockquote><ol><li>真正意义上的同一时刻执行多个任务。</li> <li>不存在并发那样竞争 CPU 资源、等待执行的情况。因为并行状态下，线程分布在不同的 CPU 上。</li></ol></blockquote> <p><img src="/vssue-comment/assets/img/parallel.65935dc4.png" alt=""></p> <h2 id="并行并发-parallel-concurrent"><a href="#并行并发-parallel-concurrent" class="header-anchor">#</a> 并行并发（Parallel Concurrent ）</h2> <p>线程分布在多个 CPU 上，在同时、同一时刻执行多个任务。</p> <blockquote><p>在同一 CPU 上执行的线程是并发的。在不同 CPU 上执行的线程是并行的。</p></blockquote> <p><img src="/vssue-comment/assets/img/parallel_concurrency.1cb009b1.png" alt=""></p> <p>并发与并行都是多线程处理场景。</p> <p>不管并发还是并行，都是为了提高程序对 CPU 资源的利用率，最大限度的利用 CPU 资源。</p> <p>最后再放一张经典的图（来源不知名大神），更好的理解并发与并行。</p> <p><img src="/vssue-comment/assets/img/concurrency_parallel2.5fdf6afa.png" alt=""></p> <h2 id="同步与异步、阻塞和非阻塞"><a href="#同步与异步、阻塞和非阻塞" class="header-anchor">#</a> 同步与异步、阻塞和非阻塞</h2> <h3 id="同步-sync-与异步-async"><a href="#同步-sync-与异步-async" class="header-anchor">#</a> 同步（Sync）与异步（Async）</h3> <p>同步与异步关注的是<strong>消息通信机制</strong>。</p> <ul><li><p>从线程角度理解：同步与异步指两个线程之间的关系。</p> <blockquote><p>同步调用：线程 A 对线程 B 发起调用，线程 A 等到线程 B 的结果之后才能继续执行。</p> <p>异步调用：线程 A 对线程 B 发起调用，不等线程 B 的结果，线程 A 继续执行。线程 B 有了结果主动通知线程 A。</p></blockquote></li> <li><p>从 HTTP 请求角度理解：同步与异步主要针对调用者（请求），即 Client 端。</p> <blockquote><p>同步调用：Client 端程序发起一个调用，在没得到返回之前，程序会一直等到被调用者做出响应，才往下执行。</p> <p>异步调用：Client 端程序发起一个调用后，程序不用等到被调用者返回结果，就继续往下执行。被调用者返回结果后依靠状态、通知、回调等机制来与调用者通信。</p></blockquote></li></ul> <h3 id="阻塞-bolck-与非阻塞-unblock"><a href="#阻塞-bolck-与非阻塞-unblock" class="header-anchor">#</a> 阻塞（Bolck）与非阻塞（Unblock）</h3> <p>阻塞与非阻塞关注的是<strong>程序在等待调用结果（消息或返回值）时的状态</strong>：</p> <ul><li><p>从线程角度理解：阻塞与非阻塞指单个线程的状态。</p> <blockquote><p>阻塞执行：线程在发起调用之后被挂起。</p> <p>非阻塞执行：线程在发起调用之后，去干别的事情。时不时的检查调用结果。</p></blockquote></li> <li><p>从 HTTP 请求角度理解：阻塞与非阻塞主要针对被调用者（被请求），即 Server 端。</p> <blockquote><p>阻塞执行：Server 端程序被调用后，没有计算出结果之前不 Return。</p> <p>非阻塞执行：Server 端程序被调用后，立即做出响应。实际的返回结果之后通知调用者。</p></blockquote></li></ul> <h3 id="四种组合关系"><a href="#四种组合关系" class="header-anchor">#</a> 四种组合关系</h3> <p>（come soon...）</p> <ul><li>同步阻塞</li> <li>同步非阻塞</li> <li>异步阻塞</li> <li>异步非阻塞</li></ul> <h2 id="临界资源与临界区"><a href="#临界资源与临界区" class="header-anchor">#</a> 临界资源与临界区</h2> <ul><li>临界资源：一次仅允许一个进程使用的共享资源。
<ul><li>属于临界资源的硬件：打字机、磁带机等；</li> <li>属于临界资源的软件：消息队列、缓冲区、数组、变量等。</li></ul></li> <li>临界区：并发进程中访问临界资源的程序段，叫做临界区。
<ul><li>如果有若干进程要求进入空闲的临界区，一次只允许一个进程进入；</li> <li>任何时候，处于临界区内的进程不可多于一个；</li> <li>进入临界区的进程要在有限时间内退出，以便其他进程能及时进入自己的临界区；</li> <li>如果进程不能进入自己的临界区，则应让出 CPU，避免进程出现 “忙等” 的现象。</li></ul></li></ul> <p>参考：</p> <p>https://www.cnblogs.com/loveer/p/11479249.html</p></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#进程-process" title="进程（Process）">进程（Process）</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#线程-thread" title="线程（Thread）">线程（Thread）</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#多进程-multi-process" title="多进程（Multi-process）">多进程（Multi-process）</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#多线程-multi-thread" title="多线程（Multi-thread）">多线程（Multi-thread）</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#并发-concurrent" title="并发（Concurrent）">并发（Concurrent）</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#并行-parallel" title="并行（Parallel）">并行（Parallel）</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#并行并发-parallel-concurrent" title="并行并发（Parallel Concurrent ）">并行并发（Parallel Concurrent ）</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#同步与异步、阻塞和非阻塞" title="同步与异步、阻塞和非阻塞">同步与异步、阻塞和非阻塞</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#同步-sync-与异步-async" title="同步（Sync）与异步（Async）">同步（Sync）与异步（Async）</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#阻塞-bolck-与非阻塞-unblock" title="阻塞（Bolck）与非阻塞（Unblock）">阻塞（Bolck）与非阻塞（Unblock）</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#四种组合关系" title="四种组合关系">四种组合关系</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#临界资源与临界区" title="临界资源与临界区">临界资源与临界区</a></div></div></div></div> <footer class="footer" data-v-3d9deeb8><div class="footer-left-wrap" data-v-3d9deeb8><ul class="contact" data-v-3d9deeb8><li class="contact-item" data-v-3d9deeb8><a href="https://github.com/vuejs/vuepress" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-3d9deeb8><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-3d9deeb8><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-3d9deeb8></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-3d9deeb8><ul class="copyright" data-v-3d9deeb8><li class="copyright-item" data-v-3d9deeb8><a href="https://policies.google.com/privacy?hl=en-US" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-3d9deeb8>Privacy Policy</a></li><li class="copyright-item" data-v-3d9deeb8>MIT Licensed | Copyright © 2018-present Vue.js</li></ul></div></footer></div><div class="global-ui"><!----><!----></div></div>
    <script src="/vssue-comment/assets/js/app.9fa4f4bb.js" defer></script><script src="/vssue-comment/assets/js/13.044f1fde.js" defer></script><script src="/vssue-comment/assets/js/3.f0de84e7.js" defer></script><script src="/vssue-comment/assets/js/10.23cc3d6b.js" defer></script>
  </body>
</html>
